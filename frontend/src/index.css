@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  background: #020617; /* Midnight Slate */
  color: #fff;
}

/* Mood Backgrounds */
.mood-neutral {
  background: radial-gradient(circle at 50% 40%, #1e293b 0%, #020617 80%);
}

.mood-happy {
  background: linear-gradient(120deg,#f0f9ff 0%,#e6fffa 50%,#fff7ed 100%);
}

.mood-sleepy {
  background: linear-gradient(180deg, #0f172a 0%, #020617 40%);
}

.mood-storm {
  background: linear-gradient(180deg, #0b1220 0%, #05060a 60%);
}

.mood-grow {
  background: linear-gradient(135deg, #ffedd5 0%, #fef3c7 50%, #eafff0 100%);
}

/* Overlay to soften transitions */
.mood-overlay {
  position: absolute;
  inset: 0;
  mix-blend-mode: overlay;
  opacity: 0.35;
  pointer-events: none;
}

/* Clouds */
.clouds { position:absolute; inset:10% 0 70%; pointer-events: none; }
.cloud { background: rgba(255,255,255,0.06); height: 120px; width: 320px; border-radius: 50%; position:absolute; filter: blur(14px); }
.cloud.c1 { top: 10%; left: -20%; transform: scale(1.1); animation: cloudMove 30s linear infinite; }
.cloud.c2 { top: 20%; left: 20%; transform: scale(0.9); animation: cloudMove 26s linear infinite reverse; }
.cloud.c3 { top: 5%; left: 50%; transform: scale(1.3); animation: cloudMove 40s linear infinite; }

@keyframes cloudMove { from { transform: translateX(-20%) } to { transform: translateX(120%) } }

/* Rain - multiple lines using background */
.rain { position:absolute; inset:0; background-image: linear-gradient(transparent, rgba(255,255,255,0.02) 20%, transparent 40%); pointer-events: none; }
.mood-storm .rain { background-size: 1px 40px; animation: rainFall 0.4s linear infinite; }
@keyframes rainFall { from { background-position: 0 -10px } to { background-position: 0 40px } }

/* Lightning flash */
.lightning { position:absolute; inset:0; pointer-events: none; animation: lightning 8s linear infinite; opacity:0 }
@keyframes lightning {
  0% { opacity: 0 }
  92% { opacity: 0 }
  93% { opacity: 0.9; filter: blur(8px) }
  95% { opacity: 0 }
}

/* Stars for sleepy */
.stars { position:absolute; inset:0; opacity:0.9; pointer-events:none }
.star { position:absolute; width:3px; height:3px; background: rgba(255,255,255,0.85); border-radius:50%; box-shadow: 0 0 10px rgba(255,255,255,0.3); animation: twinkle 3s ease-in-out infinite; }
@keyframes twinkle { 0% { opacity: 0.4 } 50% { opacity: 1 } 100% { opacity: 0.4 } }

/* Glow for happy/grow */
.glow { position:absolute; inset:auto; left:20%; top:10%; width:60%; height:60%; border-radius: 50%; filter: blur(60px); pointer-events:none; opacity: 0.6 }
.mood-happy .glow { background: radial-gradient(circle at center, rgba(255,255,255,0.7), rgba(74,222,128,0.08) 40%, transparent 60%); }
.mood-grow .glow { background: radial-gradient(circle at center, rgba(255,200,100,0.35), rgba(255,150,50,0.06) 40%, transparent 60%); }

/* Helper: hide clouds/raindrops when not storm/happy */
.mood-storm .clouds, .mood-storm .rain, .mood-storm .lightning { visibility: visible; opacity: 1; }
.mood-happy .clouds { visibility: visible; opacity: 1; }
.mood-sleepy .stars { visibility: visible; opacity: 1; }
.mood-neutral .clouds, .mood-neutral .rain, .mood-neutral .stars, .mood-neutral .lightning, .mood-neutral .glow { opacity: 0; visibility:hidden }

/* Position random stars */
.stars .star { animation-duration: 2.5s; }
.stars .star:nth-child(odd) { animation-duration: 3.5s }
.stars .star:nth-child(3n) { animation-duration: 4s }
/* Random location for stars */
.stars .star:nth-child(1) { left: 10%; top: 20% }
.stars .star:nth-child(2) { left: 20%; top: 90% }
.stars .star:nth-child(3) { left: 16%; top: 45% }
.stars .star:nth-child(4) { left: 40%; top: 10% }
.stars .star:nth-child(5) { left: 60%; top: 80% }
.stars .star:nth-child(6) { left: 72%; top: 55% }
.stars .star:nth-child(7) { left: 84%; top: 30% }
.stars .star:nth-child(8) { left: 46%; top: 63% }
.stars .star:nth-child(9) { left: 30%; top: 25% }
.stars .star:nth-child(10) { left: 80%; top: 10% }
.stars .star:nth-child(n+11) { left: calc(5% + (70% * var(--i))); top: calc(5% + (80% * var(--j))); }
